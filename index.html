<!DOCTYPE html>
<meta charset="utf-8">
<style>
    .bar {
        fill: steelblue;
    }
    .bar:hover {
        fill: brown;
    }
</style>
<body>
<script src="//d3js.org/d3.v3.min.js"></script>
<script type="text/javascript" src="line_up.js"></script>
<script>
    var options = [
            "Academic Reputation Score",
            "Employer Reputation Score",
            "Faculty Student Score",
            "Citations Per Faculty Score",
            "International Faculty Score",
            "International Students Score"
        ],
        colors = { "Academic Reputation Score": "#98abc5",
            "Employer Reputation Score": "#8a89a6",
            "Faculty Student Score": "#7b6888",
            "Citations Per Faculty Score": "#6b486b",
            "International Faculty Score": "#a05d56",
            "International Students Score": "#d0743c"
        },
        file_path = "https://raw.githubusercontent.com/VictorDu/LineUp-D3/master/data/unvRank2013.csv",
        name = "Institution";


    var page_info = {top: 20, right: 20, bottom: 30, left: 40, width: 10000, height: 4000},
        page_num = 1,
        pages = [];

    var svg = d3.select("body").append("svg")
            .attr("width", page_info.width + page_info.left + page_info.right)
            .attr("height", page_info.height + page_info.top + page_info.bottom)
            .append("g")
            .attr("transform", "translate(" + page_info.left + "," + page_info.top + ")");

    var page_width = 512,
        page_interval = 500;

    d3.csv(file_path, function(data) {
        bar_width = initial_bar_width(options, page_width);
        pages.push(initial_page(bar_width, "stacked bar", "max", 100, data, svg, "page0"));
        pages.push(initial_page(bar_width, "seperate bar", "min", 100 + (page_width + page_interval) * 1, data, svg, "page1"));
        pages.push(initial_page(bar_width, "stacked bar", "min", 100 + (page_width + page_interval) * 2, data, svg, "page2"));
        pages.push(initial_page(bar_width, "seperate bar", "no", 100 + (page_width + page_interval) * 3, data, svg, "page3"));
        pages.forEach(function(page){
            draw_page(page);
        })
        for(i = 1; i < pages.length; i++){
            var lines = produce_line(pages[i - 1], pages[i]);
            draw_line(pages[i], lines);
        }
    });
</script>
</body>